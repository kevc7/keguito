<div class="marzo-container">
  <div class="content-wrapper">
    <a routerLink="/" class="back-button">&larr; Volver</a>
    
    <div class="player-and-letter">
      <div class="player-container">
        <button class="play-button" (click)="toggleMusic()">
          <span>‚ô•</span> {{ isPlaying ? 'Pause' : 'Play' }} <span>‚ô•</span>
        </button>
        
        <div class="song-controls" *ngIf="isPlaying">
          <button class="song-nav-button" (click)="prevSong()">
            ‚óÑ‚óÑ
          </button>
          <span class="song-indicator">Canci√≥n {{ currentSongIndex + 1 }}</span>
          <button class="song-nav-button" (click)="nextSong()">
            ‚ñ∫‚ñ∫
          </button>
        </div>
        
        <div class="volume-control" *ngIf="isPlaying">
          <input 
            type="range" 
            min="0" 
            max="100" 
            [value]="volume" 
            (input)="adjustVolume($event)"
            class="volume-slider"
          >
          <span class="volume-label">üîä {{ volume }}%</span>
        </div>
      </div>
      
      <div class="letter-content">
        <p>Mi amor,</p>
        <p>
          Son las 7 de la ma√±ana, un 17 de marzo, y no s√© si la brisa que acaricia la ventana es el preludio de algo m√°s, o si es el susurro t√≠mido de tus palabras que resuenan en mi mente mientras el d√≠a apenas comienza. Me siento emocionado, como un ni√±o que espera su regalo m√°s preciado. En unos d√≠as te ver√©, y cuento los segundos como si se tratara de una eternidad. Mi mente, que a veces parece perderse entre las sombras del tiempo, solo sabe que te pertenece, que sigue el ritmo de tus pasos aunque a veces parezca callada.
        </p>
        <p>
          Hace ya m√°s de un mes que no te escribo cartas, pero no creas que este silencio ha sido vac√≠o. No es que no te piense, ni que tu imagen se haya desvanecido en mis pensamientos. Al contrario, cada rinc√≥n de mi ser te lleva dentro, como si fueras la luna en mi noche m√°s oscura. Pensar que te ped√≠ ser parte de tu vida, que te ped√≠ ser tu novio, me llena de una calidez extra√±a, porque siento que eso es solo el principio de algo mucho m√°s grande. Te amo tanto, que la idea de seguir trabajando en nosotros me motiva, me impulsa, me da fuerzas para ser la mejor versi√≥n de m√≠ mismo, para que este amor, este sue√±o que estamos creando, siga floreciendo.
        </p>
        <p>
          Te amo, Kadley, con todo lo que soy. Con todo lo que s√© y con todo lo que har√©. Mi amor por ti no tiene l√≠mites, y cada vez que te pienso, que te imagino, que te siento cerca, me doy cuenta de que en este viaje que compartimos, no hay final, solo infinitos comienzos.
        </p>
      </div>
    </div>

    <!-- Image Slider -->
    <div class="slider-container">
      <div class="slider" [style.transform]="'translateX(-' + (currentSlide * 100) + '%)'">
        <div *ngFor="let image of images" class="slide">
          <img [src]="image" alt="Imagen de amor">
        </div>
      </div>
      <div class="slider-controls">
        <button (click)="prevSlide()" class="slider-button">‚ùÆ</button>
        <button (click)="nextSlide()" class="slider-button">‚ùØ</button>
      </div>
      <div class="slider-dots">
        <span *ngFor="let image of images; let i = index" 
              [class.active]="i === currentSlide"
              (click)="goToSlide(i)"></span>
      </div>
    </div>

    <audio #audioPlayer (ended)="onSongEnd()" preload="auto"></audio>
  </div>
</div>
